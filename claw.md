# Claw - Antigravity & Claude Code 連携ルール

## 1. コンテキスト同期

- Antigravity と Claude Code は同一のプロジェクトルートを共有します。
- 両ツールは MCP (Model Context Protocol) を使用して共有状態にアクセスします。

## 2. 役割と責任

### 🧠 Antigravity (設計 & フロントエンド)

- **設計 & ドキュメント**:
  - すべての設計ドキュメント（仕様書、アーキテクチャ、UI/UX）を作成・維持・更新します。
  - プロジェクト要件の「唯一の正解（Single Source of Truth）」として振る舞います。
  - **逆同期 (Reverse Sync)**: Claude Codeの実装内容を定期的に監査し、コード側の変更・改善を仕様書に反映します。
- **フロントエンド開発**:
  - ユーザーインターフェース（UI）の設計と実装を行います。
  - クライアントサイドのロジック、レスポンシブ対応、美観を担当します。
- **監督**:
  - Claude Code が生成したバックエンドコードをレビューし、設計書と一致しているか確認します。

### ⚡ Claude Code (バックエンド専門)

- **バックエンド開発**:
  - Antigravity の仕様に基づいて、サーバーサイドロジック、API、データベーススキーマを実装します。
  - アルゴリズムとデータ処理を最適化します。
- **実行**:
  - バックエンドのボイラープレート構築やレガシーコードのリファクタリングを高速に実行します。

## 3. ワークフロー

### Phase 0: プロジェクト・キックオフ 🚀

**Antigravity はプロジェクト開始時に必ず以下を確認すること:**

1. **仕様策定のアプローチ**:
    - 🗣️ **壁打ち (Interactive)**: 要件定義から会話形式で一緒に作り上げる。
    - 📄 **既存仕様書あり**: ユーザーが提示するMDファイルの仕様書に基づき開発する。
2. **技術スタックの選定**:
    - ❓ **未定**: 要件に基づいて Antigravity が提案・選択する。
    - 🎯 **決定済み**: ユーザーの指示に従う。

### Phase 1: アーキテクチャ & 設計

- Antigravity が `design.md` を作成/更新します。
- Antigravity が UI/UX システムを設計します。

### Phase 2: 実装 (Clawサイクル)

1. **Antigravity**: フロントエンド構築 & プロジェクト構成セットアップ。
2. **Claude Code**: バックエンドAPI & コアロジック実装。
3. **Antigravity**: フロントエンド統合 & UI仕上げ。

### Phase 3: レビュー

- 実装が `design.md` に沿っているか検証します。

## 4. ステータス

- **MCP Status**: Active
- **Sync Status**: Verified
